# 3-节点合法性证明

首先证明了合理处理插入的2-3查找树是完美平衡的,即插入第一个节点是平衡的,插入任意一个二节点都会得到一个三节点,高度不变。而插入一个三节点时，会把中间那个节点传递上去，如果上面还是三节点，就继续传递。

如果传递到了根节点，根节点是一个的，则变成三节点，如果根节点是三节点。则分裂成三个二节点。总高度+1，而仍然是完美平衡的。

# 红黑树

红黑树就是2-3树，则需要满足红链接都是左链接，没有任何节点有连续两个红链接，完美黑色平衡：任意空链接到根节点上的黑链接数量相同

插入时，总是插入红色的，以不破坏平衡。之后再进行恰当的旋转，以保证红黑树特性。



证明：

初始时红黑树是空的

假设插入第n个节点并处理后,保证还是完美平衡的红黑树

插入第n+1个节点就只有几种可能:

1. 若node为黑色,即node只是一个二节点。那么只可能是往左边或右边插入红色链接。往右边插入则应该转换成左边红色。
2. 若node为红色，说明是3节点。往右边插入则应该转换成左边红色。此时是4节点，表现为连续两个红色节点，则需要上面的右旋，变成左右都红，然后再往上传递一位。